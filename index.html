<!DOCTYPE html>
<html>
<head>
    <title>3D Видео в максимальном качестве</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            background-color: black;
        }
        .video-container {
            width: 100vw;
            height: 100vh;
            position: relative;
        }
        .video-spacer {
            height: 100px;
            background-color: black;
        }
        iframe {
            width: 100%;
            height: 100%;
            border: none;
            display: block;
        }
    </style>
</head>
<body>
    <!-- Видео 1 -->
    <div class="video-container">
        <div id="player1"></div>
    </div>
    
    <div class="video-spacer"></div>
    
    <!-- Видео 2 -->
    <div class="video-container">
        <div id="player2"></div>
    </div>
    
    <div class="video-spacer"></div>
    
    <!-- Видео 3 -->
    <div class="video-container">
        <div id="player3"></div>
    </div>
    
    <div class="video-spacer"></div>
    
    <!-- Видео 4 -->
    <div class="video-container">
        <div id="player4"></div>
    </div>
    
    <div class="video-spacer"></div>
    
    <!-- Видео 5 -->
    <div class="video-container">
        <div id="player5"></div>
    </div>

    <!-- YouTube IFrame API -->
    <script>
        // Массив ID видео (замените на свои)
        const videoIds = [
            'mEYsRvAUNQ8',
            'mEYsRvAUNQ8',
            'mEYsRvAUNQ8',
            'mEYsRvAUNQ8',
            'mEYsRvAUNQ8'
        ];
        
        // Функция для создания плееров
        function onYouTubeIframeAPIReady() {
            videoIds.forEach((id, index) => {
                new YT.Player(`player${index+1}`, {
                    videoId: id,
                    playerVars: {
                        'autoplay': 1,
                        'mute': 1,
                        'controls': 1,
                        'rel': 0,
                        'modestbranding': 1,
                        'fs': 1,
                        'playsinline': 1,
                        'highres': 1,  // Принудительно запрашиваем высокое качество
                        'vq': 'hd2160' // Явно указываем предпочтение 4K
                    },
                    events: {
                        'onReady': onPlayerReady,
                        'onStateChange': onPlayerStateChange
                    }
                });
            });
        }
        
        function onPlayerReady(event) {
            // При готовности плеера пытаемся установить максимальное качество
            setTimeout(() => {
                event.target.setPlaybackQuality('hd2160');
                event.target.setPlaybackQuality('highres');
                event.target.setPlaybackQuality('hd1080');
            }, 1000);
        }
        
        function onPlayerStateChange(event) {
            if (event.data == YT.PlayerState.PLAYING) {
                // Периодически проверяем и улучшаем качество
                setInterval(() => {
                    event.target.setPlaybackQuality('hd2160');
                }, 3000);
            }
        }
        
        // Вставляем YouTube API
        const tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        const firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
    </script>
</body>
</html>
